@if(showImageSelector()){
  <div class="image-selector-container">

    <button type="button" class="btn btn-light img-sel__close" (click)="hideImageSelector()">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path d="M4 4l8 8M12 4l-8 8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
    </button>

    <div class="card h-100">
      <div class="card-header">
        <h3 class="card-title">Image Library</h3>
      </div>
      <div class="card-body">
        <div class="img-sel__layout">

          <!-- Image grid -->
          <div class="img-sel__grid-wrap">
            @if(isLoading()){
              <div class="img-sel__loading">
                <div class="spinner-border" role="status">
                  <span class="visually-hidden">Loading imagesâ€¦</span>
                </div>
              </div>
            } @else {
              <div class="img-sel__grid">
                @for(image of images(); track image.id){
                  <div class="img-sel__item" role="button" (click)="OnSelectImage(image)">
                    <img [src]="image.url" [alt]="image.title" class="img-sel__thumb">
                    <span class="img-sel__label">{{ image.title }}</span>
                  </div>
                }
              </div>
            }
          </div>

          <!-- Upload panel -->
          <div class="img-sel__upload">
            <h5 class="img-sel__upload-title">Upload Image</h5>
            <form [formGroup]="imageSelectorUploadForm" (ngSubmit)="onSubmit()">
              <div class="mb-3">
                <input type="file" class="form-control" (change)="onFileSelected($event)"/>
              </div>
              <div class="mb-3">
                <input type="text" class="form-control" placeholder="File name" formControlName="name"/>
              </div>
              <div class="mb-3">
                <input type="text" class="form-control" placeholder="Title" formControlName="title"/>
              </div>
              <button type="submit" class="btn btn-primary">Upload</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
}
