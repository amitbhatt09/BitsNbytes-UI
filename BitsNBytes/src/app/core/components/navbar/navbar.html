<nav class="navbar">
  <a class="navbar__brand" [routerLink]="['/']">Bits&Bytes</a>

  <!-- Right-side: Home, Admin (if Writer), Theme Toggle, User details, Auth buttons -->
  <div class="navbar__actions">
    <!-- Home link (always visible when not on home page) -->
    @if(!isHome){
      <a class="navbar__nav-link" [routerLink]="['/']" >
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
          <path d="M2 6.5L8 2 14 6.5V13a1 1 0 01-1 1H10v-4H6v4H3a1 1 0 01-1-1V6.5z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Home
      </a>
    }

    <!-- Admin dropdown (only for Writers) -->
    @if(authService.user() && authService.user()?.roles?.includes("writer")){
      <div class="dropdown">
        <a href="#" class="navbar__nav-link dropdown__trigger">
          Admin
          <svg width="13" height="13" viewBox="0 0 13 13" fill="none">
            <path d="M3 5L6.5 8.5L10 5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </a>
        <div class="dropdown__menu">
          <a [routerLink]="['admin','categories']">Categories</a>
          <a [routerLink]="['admin','blogposts']">Blog Posts</a>
        </div>
      </div>
    }

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" (click)="toggleTheme()" title="Toggle theme">
      @if(themeService.isDarkMode()) {
        <!-- Sun icon for light mode -->
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="10" cy="10" r="4" stroke="currentColor" stroke-width="1.5"/>
          <path d="M10 2v2M10 16v2M18 10h-2M4 10H2M15.66 4.34l-1.42 1.42M5.76 14.24l-1.42 1.42M15.66 15.66l-1.42-1.42M5.76 5.76L4.34 4.34" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      } @else {
        <!-- Moon icon for dark mode -->
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <path d="M17 10.5A7 7 0 1 1 9.5 3a5.5 5.5 0 0 0 7.5 7.5z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      }
    </button>

    <!-- Spacer to push auth buttons to the far right -->
    <div class="navbar__spacer"></div>

    <!-- Auth section -->
    @if(authService.user()){
      <span class="navbar__email">{{ authService.user()?.email }}</span>
      <button class="btn btn--logout" (click)="onLogout()">Logout</button>
    } @else {
      <a class="btn btn--signup" [routerLink]="['/signup']">Sign Up</a>
      <a class="btn btn--login"  [routerLink]="['/login']">Login</a>
    }
  </div>
</nav>
